1). В областях с разными материалами нужно строить независимые сплайны.
То есть, нужно сперва сгруппировать по материалам (через перенумеровку КЭ), потом построить.
Персова сказала, что сшивать не требуется, но у меня есть сомнения по этому поводу...

2). См переписку:

[6:31:02 PM] Петр Жигалов: ну вот что мы тогда написали
[6:31:11 PM] Петр Жигалов: по 16 точек равномерно
[6:31:21 PM] Максим: м..да
[6:31:30 PM] Максим: а у тебя прблемы не возникает
[6:31:37 PM] Максим: что точки как границы идут как бы с всемо 2
[6:31:46 PM] Максим: посокльку они повторяются
[6:32:04 PM] Максим: а в узлах аж по 4
[6:32:15 PM] Петр Жигалов: ну, я это не учитывал)
[6:32:27 PM] Петр Жигалов: хотя погоди
[6:32:35 PM] Петр Жигалов: нафига там вес то?
[6:32:47 PM] Максим: ты не ставишь
[6:32:51 PM] Петр Жигалов: базисные ф-и то финитные
[6:32:52 PM] Максим: но у тебя так получается
[6:32:53 PM] Максим: в результате
[6:33:06 PM] Петр Жигалов: они везде идет, только где-то нулевые они
[6:33:14 PM] Максим: смотри
[6:33:18 PM] Петр Жигалов: так что на мой взгляд, это без разницы
[6:33:25 PM] Максим: ты же точки генерируешь по 16 для каждого элемента?
[6:33:33 PM] Петр Жигалов: ага
[6:33:34 PM] Максим: тогда когда ты сгенерировал для одного
[6:33:38 PM] Максим: потом дял соседнего
[6:33:41 PM] Максим: точки на границы посторились
[6:33:48 PM] Максим: *повторились
[6:33:54 PM] Максим: и пошли в матрицу два раза
[6:33:58 PM] Максим: слева и справа
[6:34:03 PM] Максим: по есть по сути с весом 2
[6:34:04 PM] Петр Жигалов: ну, так они же попали в 2 элемента
[6:34:13 PM] Максим: ну как бы
[6:34:20 PM] Максим: это уже взвещивание)
[6:34:27 PM] Петр Жигалов: почему с 2 то?
[6:34:34 PM] Петр Жигалов: они сделали вклад в свои бф
[6:34:35 PM] Максим: ну 1 слева
[6:34:38 PM] Максим: и 1 справа
[6:34:46 PM] Максим: не?
[6:34:56 PM] Петр Жигалов: так это ж уже разные функции
[6:35:05 PM] Максим: эм
[6:35:06 PM] Петр Жигалов: и идут в разные части матрицы
[6:35:11 PM] Максим: ты не скливаешь?
[6:35:17 PM] Максим: на каждом элементе полностью независимые функции?
[6:35:25 PM] Петр Жигалов: а, склеиваю
[6:35:32 PM] Петр Жигалов: теперь понял о чем ты
[6:36:58 PM] Петр Жигалов: ну хз, стало быть с большим весом идут они тогда
[6:37:09 PM] Петр Жигалов: но вроде рабоатет как-то)

...

[3:07:09 AM] Петр Жигалов: слушай
[3:07:17 AM] Петр Жигалов: по сплайнам корректировка будет
[3:07:28 AM] Андрей Курочкин: ?
[3:07:41 AM] Петр Жигалов: короче, если точка на границе двух или более кэ
[3:07:51 AM] Петр Жигалов: ее надо учитывать только один раз
[3:07:59 AM] Андрей Курочкин: хорошо, понял
[3:08:01 AM] Петр Жигалов: то есть она только к одному пойдет
[3:08:14 AM] Петр Жигалов: или использовать веса

3). Если что, то лучше МКЭ решение делать не на слишком мелкой сетке, а то итак точно будет

